{"version":3,"sources":["../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","components/ContactsSection/ContactsSection.module.css","components/ContactsList/ContactsList.module.css","components/ContactsListItem/ContactsListItem.module.css","components/ContactsForm/ContactsForm.module.css","components/ContactsFilter/ContactsFilter.module.css","components/ContactsSection/ContactsSection.js","components/ContactsListItem/ContactsListItem.js","redux/contacts/contacts-selectors.js","components/ContactsList/ContactsList.js","components/ContactsForm/ContactsForm.js","components/ContactsFilter/ContactsFilter.js","Pages/ContactsPage/ContactsPage.js"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","REGEX","test","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","toLowerCase","TypeError","v4","options","buf","rnds","random","module","exports","ContactsSection","title","children","className","styles","section","ContactsList","id","name","number","useDeleteContactMutation","deleteContact","item","type","button","onClick","onDelete","getFilter","state","filter","useGetContactsQuery","refetchOnFocus","data","error","isFetching","useSelector","contactsSelectors","filteredContacts","useMemo","normalizedFilter","contact","includes","toast","Loader","map","ContactsForm","useState","setName","setNumber","useAddContactMutation","addContact","handleChange","e","target","value","formSubmitHandler","normalizedName","find","el","warn","nameId","uuidv4","telId","onSubmit","preventDefault","label","htmlFor","input","pattern","placeholder","required","onChange","ContactsFilter","dispatch","useDispatch","changeFilter","useCallback","filterContact","ContactsPage"],"mappings":"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","file":"static/js/contacts-page.97e530fb.chunk.js","sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"ContactsSection_section__SxRjU\",\"title\":\"ContactsSection_title__2X4_6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ContactsList_title__3rVrD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ContactsListItem_item__24_MT\",\"name\":\"ContactsListItem_name__3KoAX\",\"number\":\"ContactsListItem_number__1r7G0\",\"button\":\"ContactsListItem_button__1xvy8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"ContactsForm_label__1LnyO\",\"input\":\"ContactsForm_input__1_nF6\",\"button\":\"ContactsForm_button__2F1jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"ContactsFilter_filter__2uQ3k\",\"label\":\"ContactsFilter_label__1z_o6\",\"input\":\"ContactsFilter_input__PIMXJ\"};","import styles from 'components/ContactsSection/ContactsSection.module.css';\n\nexport default function ContactsSection({ title, children }) {\n  return (\n    <section className={styles.section}>\n      <h2 className={styles.title}>{title}</h2>\n      {children}\n    </section>\n  );\n}\n","import styles from 'components/ContactsListItem/ContactsListItem.module.css';\nimport { useDeleteContactMutation } from 'redux/contacts/contactsSlice';\n\nexport default function ContactsList({ id, name, number }) {\n  const [deleteContact] = useDeleteContactMutation();\n\n  const onDelete = id => deleteContact(id);\n\n  return (\n    <li className={styles.item}>\n      <span className={styles.name}>{name}:</span>\n      <span className={styles.number}>{number}</span>\n      <button\n        type=\"button\"\n        className={styles.button}\n        id={id}\n        onClick={() => {\n          onDelete(id);\n        }}\n      >\n        Delete\n      </button>\n    </li>\n  );\n}\n","export const getFilter = state => state.filter.filter;\n","import styles from 'components/ContactsList/ContactsList.module.css';\nimport { useSelector } from 'react-redux';\nimport { useMemo } from 'react';\nimport ContactsListItem from 'components/ContactsListItem/ContactsListItem';\nimport { useGetContactsQuery } from 'redux/contacts/contactsSlice';\nimport { contactsSelectors } from 'redux/contacts';\nimport LoaderSpin from 'components/Loader/Loader';\nimport { toast } from 'react-toastify';\n\nexport default function ContactsList() {\n  const {\n    data = [],\n    error,\n    isFetching,\n  } = useGetContactsQuery(undefined, {\n    refetchOnFocus: true,\n  });\n\n  const filter = useSelector(contactsSelectors.getFilter);\n\n  const filteredContacts = useMemo(() => {\n    const normalizedFilter = filter.toLowerCase();\n    return data.filter(contact =>\n      contact.name.toLowerCase().includes(normalizedFilter),\n    );\n  }, [filter, data]);\n\n  if (error) return toast.error(`There is an error: ${error}`);\n\n  return (\n    <>\n      {isFetching && <LoaderSpin />}\n\n      <ul>\n        {!isFetching &&\n          filteredContacts.map(({ id, name, number }) => (\n            <ContactsListItem key={id} id={id} name={name} number={number} />\n          ))}\n      </ul>\n      {data.length === 0 && !isFetching && (\n        <h1 className={styles.title}>There are no contacts in phonebook!</h1>\n      )}\n    </>\n  );\n}\n","import styles from 'components/ContactsForm/ContactsForm.module.css';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  useGetContactsQuery,\n  useAddContactMutation,\n} from 'redux/contacts/contactsSlice';\nimport { toast } from 'react-toastify';\n\nexport default function ContactsForm() {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const { data = [] } = useGetContactsQuery();\n  const [addContact] = useAddContactMutation();\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'number':\n        setNumber(value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    formSubmitHandler({ name, number });\n    setName('');\n    setNumber('');\n  };\n\n  const formSubmitHandler = item => {\n    const normalizedName = item.name.toLowerCase();\n    data.find(el => {\n      return el.name.toLowerCase() === normalizedName;\n    })\n      ? toast.warn(`${item.name} is already in contacts`)\n      : addContact(item);\n  };\n\n  const nameId = uuidv4();\n  const telId = uuidv4();\n  return (\n    <form onSubmit={handleSubmit}>\n      <label className={styles.label} htmlFor={nameId}>\n        Name\n      </label>\n      <input\n        className={styles.input}\n        type=\"text\"\n        name=\"name\"\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        placeholder=\"Please enter name\"\n        required\n        value={name}\n        id={nameId}\n        onChange={handleChange}\n      />\n      <label className={styles.label} htmlFor={telId}>\n        Number\n      </label>\n      <input\n        className={styles.input}\n        type=\"tel\"\n        name=\"number\"\n        pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n        title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n        placeholder=\"Please enter number\"\n        required\n        value={number}\n        id={telId}\n        onChange={handleChange}\n      />\n      <button className={styles.button} type=\"submit\">\n        Add contact\n      </button>\n    </form>\n  );\n}\n\nContactsForm.propTypes = {\n  state: PropTypes.objectOf(PropTypes.string),\n};\n","import styles from 'components/ContactsFilter/ContactsFilter.module.css';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { filterContact } from 'redux/contacts/filterSlice';\nimport { contactsSelectors } from 'redux/contacts';\n\nexport default function ContactsFilter() {\n  const filter = useSelector(contactsSelectors.getFilter);\n  const dispatch = useDispatch();\n  const changeFilter = useCallback(\n    e => {\n      dispatch(filterContact(e.target.value));\n    },\n    [dispatch],\n  );\n\n  return (\n    <div className={styles.filter}>\n      <label className={styles.label} htmlFor={uuidv4()}>\n        Find contacts by name\n      </label>\n      <input\n        type=\"text\"\n        className={styles.input}\n        value={filter}\n        id={uuidv4()}\n        onChange={changeFilter}\n      />\n    </div>\n  );\n}\n","import ContactsSection from 'components/ContactsSection/ContactsSection';\nimport ContactsList from 'components/ContactsList/ContactsList';\nimport ContactsForm from 'components/ContactsForm/ContactsForm';\nimport ContactsFilter from 'components/ContactsFilter/ContactsFilter';\n\nexport default function ContactsPage() {\n  return (\n    <>\n      <ContactsSection title=\"Phonebook\">\n        <ContactsForm />\n      </ContactsSection>\n      <ContactsSection title=\"Contacts\">\n        <ContactsFilter />\n        <ContactsList />\n      </ContactsSection>\n    </>\n  );\n}\n"],"sourceRoot":""}