{"version":3,"sources":["redux/auth/authThunks.js","redux/auth/authSlice.js","redux/auth/auth-selectors.js","routes/PrivateRoute.js","routes/PublicRoute.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/Container/Container.js","App.js","reportWebVitals.js","redux/store.js","index.js","redux/contacts/contactsSlice.js","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","components/Loader/Loader.js","redux/contacts/filterSlice.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css","components/Loader/Loader.module.css"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","signupThunk","createAsyncThunk","user","a","rejectWithValue","post","data","toast","success","error","loginThunk","logoutThunk","_","getCurrentUserThunk","getState","state","persistedToken","auth","get","console","log","authSlice","createSlice","name","initialState","email","isAuth","isLoading","isFetchingCurrent","extraReducers","pending","fulfilled","action","payload","rejected","message","getAuth","getUser","getIsFetchingCurrent","PrivateRoute","ContactsPage","component","useSelector","authSelectors","to","PublicRoute","redirectedTo","restricted","PublicPage","shouldNavigate","setActive","isActive","styles","activeLink","link","Navigation","className","nav","exact","UserMenu","dispatch","useDispatch","container","type","button","onClick","AuthNav","AppBar","header","Container","children","HomePage","lazy","LoginPage","RegisterPage","NotFoundPage","App","useEffect","Loader","theme","autoClose","fallback","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","authPersistConfig","key","storage","whitelist","authPersistReducer","persistReducer","authReducer","store","configureStore","reducer","contactsSlice","reducerPath","filter","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","devTools","process","setupListeners","persistore","persistStore","ReactDOM","render","StrictMode","loading","persistor","document","getElementById","createApi","tagTypes","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","getContacts","query","providesTags","result","map","id","addContact","mutation","item","url","method","body","invalidatesTags","deleteContact","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","module","exports","LoaderSpin","loader","color","height","width","timeout","filterSlice","reducers","filterContact","actions"],"mappings":"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","file":"static/js/main.d3daddf2.chunk.js","sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com/';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const signupThunk = createAsyncThunk(\n  'users/signup',\n  async (user, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('users/signup', user);\n      token.set(data.token);\n      toast.success('You have successfully registered');\n      return data;\n    } catch (error) {\n      return rejectWithValue(toast.error(`There is an error: ${error}`));\n    }\n  },\n);\n\nexport const loginThunk = createAsyncThunk(\n  'users/login',\n  async (user, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('users/login', user);\n      token.set(data.token);\n      toast.success('You have successfully logged in');\n      return data;\n    } catch (error) {\n      return rejectWithValue(toast.error(`There is an error: ${error}`));\n    }\n  },\n);\n\nexport const logoutThunk = createAsyncThunk(\n  'users/logout',\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post('users/logout');\n      token.unset();\n    } catch (err) {\n      return rejectWithValue(err);\n    }\n  },\n);\n\nexport const getCurrentUserThunk = createAsyncThunk(\n  'users/current',\n\n  async (_, { getState, rejectWithValue }) => {\n    const state = getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('users/current');\n      console.log(data);\n      return data;\n    } catch (error) {\n      console.log('error in GetCurrentUser: ', error);\n      return rejectWithValue(error);\n    }\n  },\n);\n","import { createSlice } from '@reduxjs/toolkit';\nimport {\n  signupThunk,\n  loginThunk,\n  getCurrentUserThunk,\n  logoutThunk,\n} from './authThunks';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isAuth: false,\n  isLoading: false,\n  error: null,\n  isFetchingCurrent: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [signupThunk.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [signupThunk.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoading = false;\n      state.isAuth = true;\n    },\n    [signupThunk.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.error.message;\n    },\n\n    [loginThunk.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [loginThunk.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoading = false;\n      state.isAuth = true;\n    },\n    [loginThunk.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.error.message;\n    },\n\n    [getCurrentUserThunk.pending](state) {\n      state.isFetchingCurrent = true;\n      state.isLoading = true;\n      state.error = null;\n    },\n    [getCurrentUserThunk.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isAuth = true;\n      state.isLoading = false;\n      state.isFetchingCurrent = false;\n    },\n    [getCurrentUserThunk.rejected](state, action) {\n      state.isFetchingCurrent = false;\n      state.isLoading = false;\n      state.error = action.error.message;\n    },\n\n    [logoutThunk.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [logoutThunk.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoading = false;\n      state.isAuth = false;\n    },\n    [logoutThunk.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.error.message;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","export const getAuth = state => state.auth.isAuth;\nexport const getUser = state => state.auth.user.name;\nexport const getIsFetchingCurrent = state => state.auth.isFetchingCurrent;\n","import { Navigate } from 'react-router';\n// import { Route, Navigate } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\n\nexport function PrivateRoute({ component: ContactsPage }) {\n  const isAuth = useSelector(authSelectors.getAuth);\n  return <>{isAuth ? <ContactsPage /> : <Navigate to=\"/login\" />}</>;\n}\n\n// export function PrivateRoute({ children, ...routeProps }) {\n//   const isAuth = useSelector(contactsSelectors.getAuth);\n//   return (\n//     <Route {...routeProps}>\n//       {isAuth ? children : <Navigate to=\"/login\" />}\n//     </Route>\n//   );\n// }\n","import { Navigate } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\n\n// export function PublicRoute({ component: PublicPage }) {\n//   const isAuth = useSelector(contactsSelectors.getAuth);\n//   return <>{isAuth ? <Navigate to=\"/\" /> : <PublicPage />}</>;\n// }\n\nexport function PublicRoute({\n  redirectedTo = '/',\n  restricted = false,\n  component: PublicPage,\n}) {\n  const isAuth = useSelector(authSelectors.getAuth);\n  const shouldNavigate = isAuth && restricted;\n  return (\n    <>{shouldNavigate ? <Navigate to={redirectedTo} /> : <PublicPage />}</>\n  );\n}\n","import styles from 'components/Navigation/Navigation.module.css';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\n\nconst setActive = ({ isActive }) =>\n  isActive ? styles.activeLink : styles.link;\n// const setActive = ({ isActive }) => ({ color: isActive ? 'green' : 'blue' });\n\nconst Navigation = () => {\n  const isAuth = useSelector(authSelectors.getAuth);\n  return (\n    <nav className={styles.nav}>\n      <NavLink to=\"/\" exact=\"true\" className={setActive}>\n        HomePage\n      </NavLink>\n\n      {isAuth && (\n        <NavLink to=\"/contacts\" exact=\"true\" className={setActive}>\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import styles from 'components/UserMenu/UserMenu.module.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\nimport { logoutThunk } from 'redux/auth/authThunks';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUser);\n\n  return (\n    <div className={styles.container}>\n      <span className={styles.name}>Welcome, {name}</span>\n      <button\n        type=\"button\"\n        className={styles.button}\n        onClick={() => dispatch(logoutThunk())}\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n","import styles from 'components/AuthNav/AuthNav.module.css';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst setActive = ({ isActive }) =>\n  isActive ? styles.activeLink : styles.link;\n\nexport default function AuthNav() {\n  return (\n    <div className={styles.container}>\n      <NavLink to=\"/register\" exact=\"true\" className={setActive}>\n        Register\n      </NavLink>\n      <NavLink to=\"/login\" exact=\"true\" className={setActive}>\n        Login\n      </NavLink>\n    </div>\n  );\n}\n","import styles from 'components/AppBar/AppBar.module.css';\nimport { useSelector } from 'react-redux';\nimport Navigation from 'components/Navigation/Navigation';\nimport UserMenu from 'components/UserMenu/UserMenu';\nimport AuthNav from 'components/AuthNav/AuthNav';\nimport { authSelectors } from 'redux/auth';\n\nexport default function AppBar() {\n  const isAuth = useSelector(authSelectors.getAuth);\n  return (\n    <header className={styles.header}>\n      <Navigation />\n      {isAuth ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import styles from 'components/Container/Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import './App.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer } from 'react-toastify';\nimport { Routes, Route } from 'react-router-dom';\nimport { PrivateRoute } from 'routes/PrivateRoute';\nimport { PublicRoute } from 'routes/PublicRoute';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, Suspense, lazy } from 'react';\nimport { getCurrentUserThunk } from 'redux/auth/authThunks';\nimport AppBar from 'components/AppBar/AppBar';\nimport Container from 'components/Container/Container';\nimport { authSelectors } from 'redux/auth';\nimport LoaderSpin from 'components/Loader/Loader';\n\nconst HomePage = lazy(() => import('Pages/HomePage/HomePage'));\nconst ContactsPage = lazy(() =>\n  import(\n    'Pages/ContactsPage/ContactsPage' /* webpackChunkName: \"contacts-page\" */\n  ),\n);\nconst LoginPage = lazy(() =>\n  import('Pages/LoginPage/LoginPage' /* webpackChunkName: \"login-page\" */),\n);\nconst RegisterPage = lazy(() =>\n  import(\n    'Pages/RegisterPage/RegisterPage' /* webpackChunkName: \"register-page\" */\n  ),\n);\nconst NotFoundPage = lazy(() =>\n  import(\n    'Pages/NotFoundPage/NotFoundPage' /* webpackChunkName: \"not-found-page\" */\n  ),\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrent = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(getCurrentUserThunk());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      {isFetchingCurrent ? (\n        <LoaderSpin />\n      ) : (\n        <>\n          <AppBar />\n          <ToastContainer theme=\"colored\" autoClose={2000} />\n          <Suspense fallback={<LoaderSpin />}>\n            <Routes>\n              <Route\n                path=\"/\"\n                exact=\"true\"\n                element={<PublicRoute component={HomePage} />}\n              />\n\n              <Route\n                path=\"/contacts\"\n                exact=\"true\"\n                element={<PrivateRoute component={ContactsPage} />}\n              />\n\n              <Route\n                path=\"/login\"\n                exact=\"true\"\n                element={\n                  <PublicRoute\n                    restricted\n                    redirectedTo=\"/contacts\"\n                    component={LoginPage}\n                  />\n                }\n              />\n\n              <Route\n                path=\"/register\"\n                exact=\"true\"\n                element={<PublicRoute restricted component={RegisterPage} />}\n              />\n\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Routes>\n          </Suspense>\n        </>\n      )}\n    </Container>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { setupListeners } from '@reduxjs/toolkit/query';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { contactsSlice } from 'redux/contacts/contactsSlice';\nimport filter from 'redux/contacts/filterSlice';\nimport { authReducer } from 'redux/auth';\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst authPersistReducer = persistReducer(authPersistConfig, authReducer);\n\nexport const store = configureStore({\n  reducer: {\n    [contactsSlice.reducerPath]: contactsSlice.reducer,\n    filter,\n    auth: authPersistReducer,\n  },\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }).concat(contactsSlice.middleware),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nsetupListeners(store.dispatch);\n\nexport const persistore = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { store, persistore } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={'Loading Persist...'} persistor={persistore}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const contactsSlice = createApi({\n  reducerPath: 'contacts',\n  tagTypes: ['Contacts'],\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://6196d384af46280017e7e2d4.mockapi.io',\n  }),\n  endpoints: builder => ({\n    getContacts: builder.query({\n      query: () => '/contacts',\n      providesTags: result =>\n        result\n          ? [\n              ...result.map(({ id }) => ({ type: 'Contacts', id })),\n              { type: 'Contacts' },\n            ]\n          : ['Contacts'],\n    }),\n    addContact: builder.mutation({\n      query: item => ({\n        url: '/contacts',\n        method: 'POST',\n        body: { ...item },\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n    deleteContact: builder.mutation({\n      query: id => ({\n        url: `/contacts/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n  }),\n});\n\nexport const {\n  useGetContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = contactsSlice;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__pxo2n\",\"link\":\"Navigation_link__1IBkW\",\"activeLink\":\"Navigation_activeLink__1oJhe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__ERV3C\",\"name\":\"UserMenu_name__1YyCb\",\"button\":\"UserMenu_button__nwQgG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AuthNav_container__3m0bK\",\"link\":\"AuthNav_link__3I0k6\",\"activeLink\":\"AuthNav_activeLink__174Z7\"};","import styles from 'components/Loader/Loader.module.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function LoaderSpin() {\n  return (\n    <div className={styles.loader}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={80}\n        width={80}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = { filter: '' };\n\nexport const filterSlice = createSlice({\n  name: 'filter',\n  initialState,\n  reducers: {\n    filterContact: (state, action) => {\n      state.filter = action.payload;\n    },\n  },\n});\n\nexport const { filterContact } = filterSlice.actions;\nexport default filterSlice.reducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__2D4Nd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__4pQFT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__-27fb\"};"],"sourceRoot":""}